name: python
version:
  source: "url:https://www.python.org/ftp/python/"
  exclude_patterns: '(alpha|beta|rc|dev|preview|pre|snapshot|nightly|test|unstable|canary|next|edge|weekly|daily|2\.[0-9]+|3\.1[4-5])'
  extract_pattern: '([0-9]+\.[0-9]+\.[0-9]+)/'
  cleanup: "/:"

build_type: gnu_autotools
description: "Python programming language"

download:
  download_url: "https://www.python.org/ftp/python/{version}/Python-{version}.tar.xz"
  platforms:
    darwin-x86_64:
    darwin-arm64:
    linux-amd64:
    linux-arm64:

security:
  verify_signature: false # Set to true to enable auto-fetch from KEYS file
  gpg_keys_url: "https://keybase.io/python/pgp_keys.asc" # Auto-imports all Python release keys
  signature_url: "https://www.python.org/ftp/python/{version}/Python-{version}.tar.xz.asc"
  scan_vulnerabilities: true

configure:
  flags: "--enable-optimizations --with-lto --enable-shared"

build:
  timeout_minutes: 60

build_dependencies: []

# Runtime requirements (user must have these installed)
requires:
  - openssl
  - zlib
  - libffi
